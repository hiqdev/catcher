#!/usr/bin/python -u

from heppy.Args import Args
from heppy.Config import Config
from catcher.Catcher import Catcher

args = Args()
config = Config(args.get('path'))
config.merge(args)
catcher = Catcher(config)

command = args.get('command')
method = getattr(catcher, command, None)

if callable(method):
    method()
else:
    print 'Wrong command: ' + command
